{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mdalb\\\\Desktop\\\\dramainteractive\\\\dramainteractive\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport './App.css';\nimport Message from './Components/Message';\nimport Sender from './Components/Sender';\nimport { Route, Routes } from 'react-router-dom';\nimport { createClient } from '@supabase/supabase-js';\nimport Chat from './pages/Chat.jsx';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst supabaseUrl = \"https://jftaxymlbutkjoacvtbk.supabase.co\";\nconst supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdGF4eW1sYnV0a2pvYWN2dGJrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTM5NjkxOTMsImV4cCI6MjAyOTU0NTE5M30.2aT1UzmiN34aKLNRUXAKwhKfnuwxMoiM3eMkHs1oyZU\";\nconst supabase = createClient(supabaseUrl, supabaseKey);\nfunction App() {\n  _s();\n  const [username, setUsername] = useState('Anonymous');\n  const [messages, setMessages] = useState([]);\n  const [audienceChat, setAudienceChat] = useState(false);\n  useEffect(() => {\n    // Subscribe to real-time inserts\n    const channels = supabase.channel('custom-inserts').on('postgres_changes', {\n      event: 'INSERT',\n      schema: 'public',\n      table: 'messages'\n    }, payload => {\n      const newMessage = {\n        message: payload.new.message,\n        sender: payload.new.sender,\n        owner: payload.new.sender === username\n      };\n      setMessages(prevMessages => [...prevMessages, newMessage]);\n    }).subscribe();\n    const controls = supabase.channel('controller').on('postgres_changes', {\n      event: 'INSERT',\n      schema: 'public',\n      table: 'controls'\n    }, payload => {\n      const canChat = payload.new.audienceChat;\n      setAudienceChat(canChat);\n    }).subscribe();\n    return () => {\n      // Unsubscribe from channel when component unmounts\n      channels.unsubscribe();\n    };\n  }, [username]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/chat\",\n        element: /*#__PURE__*/_jsxDEV(Chat, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: 'grey',\n        fontSize: '1.5rem',\n        margin: '5px'\n      },\n      onClick: () => setUsername(prompt('Enter a username')),\n      children: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Chat\",\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: 'flex-start',\n        justifyContent: 'flex-start'\n      },\n      children: messages.map((msg, index) => {\n        return /*#__PURE__*/_jsxDEV(Message, {\n          message: msg.message,\n          sender: msg.sender,\n          owner: msg.sender === username\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sender, {\n      username: username,\n      canChat: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"9GABjO/5keZ59/xoYiJdNMprqxc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Message","Sender","Route","Routes","createClient","Chat","jsxDEV","_jsxDEV","Fragment","_Fragment","supabaseUrl","supabaseKey","supabase","App","_s","username","setUsername","messages","setMessages","audienceChat","setAudienceChat","channels","channel","on","event","schema","table","payload","newMessage","message","new","sender","owner","prevMessages","subscribe","controls","canChat","unsubscribe","children","path","element","fileName","_jsxFileName","lineNumber","columnNumber","style","color","fontSize","margin","onClick","prompt","className","display","flexDirection","alignItems","justifyContent","map","msg","index","_c","$RefreshReg$"],"sources":["C:/Users/mdalb/Desktop/dramainteractive/dramainteractive/src/App.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport './App.css';\nimport Message from './Components/Message';\nimport Sender from './Components/Sender';\nimport { Route, Routes } from 'react-router-dom';\n\nimport { createClient } from '@supabase/supabase-js';\nimport Chat from './pages/Chat.jsx';\n\n\nconst supabaseUrl = \"https://jftaxymlbutkjoacvtbk.supabase.co\";\nconst supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdGF4eW1sYnV0a2pvYWN2dGJrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTM5NjkxOTMsImV4cCI6MjAyOTU0NTE5M30.2aT1UzmiN34aKLNRUXAKwhKfnuwxMoiM3eMkHs1oyZU\";\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\n\nfunction App() {\n  const [username, setUsername] = useState('Anonymous');\n  const [messages, setMessages] = useState([]);\n  const [audienceChat, setAudienceChat] = useState(false);\n\n  useEffect(() => {\n    // Subscribe to real-time inserts\n    const channels = supabase.channel('custom-inserts')\n      .on(\n        'postgres_changes',\n        { event: 'INSERT', schema: 'public', table: 'messages' },\n        (payload) => {\n          const newMessage = {\n            message: payload.new.message,\n            sender: payload.new.sender,\n            owner: payload.new.sender === username\n          };\n          setMessages(prevMessages => [...prevMessages, newMessage]);\n        }\n      )\n      .subscribe();\n\n    const controls = supabase.channel('controller')\n      .on(\n        'postgres_changes',\n        { event: 'INSERT', schema: 'public', table: 'controls' },\n        (payload) => {\n          const canChat = payload.new.audienceChat;\n          setAudienceChat(canChat);\n        }\n      )\n      .subscribe();\n\n    return () => {\n      // Unsubscribe from channel when component unmounts\n      channels.unsubscribe();\n    };\n  }, [username]);\n\n\n  return (\n    <>\n\n      <Routes>\n        <Route path=\"/\" element={<App />} />\n        <Route path=\"/chat\" element={<Chat />} />\n      </Routes>\n\n      <h1 style={{\n        color: 'grey',\n        fontSize: '1.5rem',\n        margin: '5px',\n      }} onClick={() => setUsername(prompt('Enter a username'))}>{username}</h1>\n      <div className=\"Chat\" style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: 'flex-start',\n        justifyContent: 'flex-start',\n      }}>\n        {messages.map((msg, index) => {\n          return (\n            <Message\n              key={index}\n              message={msg.message}\n              sender={msg.sender}\n              owner={msg.sender === username}\n            />\n          );\n        })}\n      </div>\n      <Sender username={username} canChat={true} />\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}