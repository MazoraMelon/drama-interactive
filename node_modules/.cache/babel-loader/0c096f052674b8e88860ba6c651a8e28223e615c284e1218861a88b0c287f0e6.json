{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mdalb\\\\Desktop\\\\dramainteractive\\\\dramainteractive\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport './App.css';\nimport Message from './Components/Message';\nimport Sender from './Components/Sender';\nimport { createClient } from '@supabase/supabase-js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst supabaseUrl = \"https://jftaxymlbutkjoacvtbk.supabase.co\";\nconst supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdGF4eW1sYnV0a2pvYWN2dGJrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTM5NjkxOTMsImV4cCI6MjAyOTU0NTE5M30.2aT1UzmiN34aKLNRUXAKwhKfnuwxMoiM3eMkHs1oyZU\";\nconst supabase = createClient(supabaseUrl, supabaseKey);\nfunction App() {\n  _s();\n  const [username, setUsername] = useState('Anonymous');\n  const [messages, setMessages] = useState([]);\n  const [audienceChat] = useState({\n    audienceChat: true\n  });\n  useEffect(() => {\n    // Subscribe to real-time inserts\n    const channels = supabase.channel('custom-inserts').on('postgres_changes', {\n      event: 'INSERT',\n      schema: 'public',\n      table: 'messages'\n    }, payload => {\n      const newMessage = {\n        message: payload.new.message,\n        sender: payload.new.sender,\n        owner: payload.new.sender === username\n      };\n      setMessages(prevMessages => [...prevMessages, newMessage]);\n    }).subscribe();\n    const controls = supabase.channel('controller').on('postgres_changes', {\n      event: 'INSERT',\n      schema: 'public',\n      table: 'controls'\n    }, payload => {\n      const canChat = payload.new.audienceChat;\n      setControls({\n        audienceChat: canChat\n      });\n    }).subscribe();\n    return () => {\n      // Unsubscribe from channel when component unmounts\n      channels.unsubscribe();\n    };\n  }, [username]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: 'grey',\n        fontSize: '1.5rem',\n        margin: '5px'\n      },\n      onClick: () => setUsername(prompt('Enter a username')),\n      children: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Chat\",\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: 'flex-start',\n        justifyContent: 'flex-start'\n      },\n      children: messages.map((msg, index) => {\n        return /*#__PURE__*/_jsxDEV(Message, {\n          message: msg.message,\n          sender: msg.sender,\n          owner: msg.sender === username\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sender, {\n      username: username,\n      canChat: audienceChat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"T85ns4MBfYrswkFbdl5a+fUZEpw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Message","Sender","createClient","jsxDEV","_jsxDEV","Fragment","_Fragment","supabaseUrl","supabaseKey","supabase","App","_s","username","setUsername","messages","setMessages","audienceChat","channels","channel","on","event","schema","table","payload","newMessage","message","new","sender","owner","prevMessages","subscribe","controls","canChat","setControls","unsubscribe","children","style","color","fontSize","margin","onClick","prompt","fileName","_jsxFileName","lineNumber","columnNumber","className","display","flexDirection","alignItems","justifyContent","map","msg","index","_c","$RefreshReg$"],"sources":["C:/Users/mdalb/Desktop/dramainteractive/dramainteractive/src/App.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport './App.css';\nimport Message from './Components/Message';\nimport Sender from './Components/Sender';\n\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = \"https://jftaxymlbutkjoacvtbk.supabase.co\";\nconst supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdGF4eW1sYnV0a2pvYWN2dGJrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTM5NjkxOTMsImV4cCI6MjAyOTU0NTE5M30.2aT1UzmiN34aKLNRUXAKwhKfnuwxMoiM3eMkHs1oyZU\";\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\n\nfunction App() {\n  const [username, setUsername] = useState('Anonymous');\n  const [messages, setMessages] = useState([]);\n  const [audienceChat, ] = useState({ audienceChat: true });\n\n  useEffect(() => {\n    // Subscribe to real-time inserts\n    const channels = supabase.channel('custom-inserts')\n      .on(\n        'postgres_changes',\n        { event: 'INSERT', schema: 'public', table: 'messages' },\n        (payload) => {\n          const newMessage = {\n            message: payload.new.message,\n            sender: payload.new.sender,\n            owner: payload.new.sender === username\n          };\n          setMessages(prevMessages => [...prevMessages, newMessage]);\n        }\n      )\n      .subscribe();\n\n    const controls = supabase.channel('controller')\n      .on(\n        'postgres_changes',\n        { event: 'INSERT', schema: 'public', table: 'controls' },\n        (payload) => {\n          const canChat = payload.new.audienceChat;\n          setControls({ audienceChat: canChat });\n        }\n      )\n      .subscribe();\n\n    return () => {\n      // Unsubscribe from channel when component unmounts\n      channels.unsubscribe();\n    };\n  }, [username]);\n\n\n  return (\n    <>\n      <h1 style={{\n        color: 'grey',\n        fontSize: '1.5rem',\n        margin: '5px',\n      }} onClick={() => setUsername(prompt('Enter a username'))}>{username}</h1>\n      <div className=\"Chat\" style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: 'flex-start',\n        justifyContent: 'flex-start',\n      }}>\n        {messages.map((msg, index) => {\n          return (\n            <Message\n              key={index}\n              message={msg.message}\n              sender={msg.sender}\n              owner={msg.sender === username}\n            />\n          );\n        })}\n      </div>\n      <Sender username={username} canChat={audienceChat} />\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}